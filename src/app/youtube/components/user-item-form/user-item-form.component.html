<form (ngSubmit)="handleSubmit()" [formGroup]="cardForm" class="card-form">
  <div class="input-grp">
    <label class="block-label" htmlFor="title"> Title </label>
    <input nbInput id="title" placeholder="Title" type="text" class="input-field" formControlName="title" />
    <ng-container *ngIf="cardForm.get('title')!.touched && cardForm.get('title')!.invalid">
      <app-error-logger *ngIf="cardForm.get('title')!.errors!['required']" [error]="'Please enter a title'">
      </app-error-logger>
      <app-error-logger *ngIf="cardForm.get('title')!.errors!['minlength']"
        [error]="'The title needs to be at least 3 characters long '">
      </app-error-logger>
      <app-error-logger *ngIf="cardForm.get('title')!.errors!['maxlength']"
        [error]="'The title must not be longer than 20 chaaracters'">
      </app-error-logger>
    </ng-container>
  </div>

  <div class="input-grp">
    <label class="block-label" htmlFor="description"> Description </label>
    <input nbInput id="description" placeholder="Description" type="text" class="input-field"
      formControlName="description" />
    <ng-container *ngIf="
        cardForm.get('description')!.touched &&
        cardForm.get('description')!.invalid
      ">
      <app-error-logger *ngIf="cardForm.get('description')!.errors!['maxlength']"
        [error]="'The description must not be longer than 255 characters'"></app-error-logger>
    </ng-container>
  </div>

  <div class="input-grp">
    <label class="block-label" htmlFor="img"> Image Link </label>
    <input nbInput id="img" placeholder="Image Link" type="text" class="input-field" formControlName="img" />
    <ng-container *ngIf="cardForm.get('img')!.touched && cardForm.get('img')!.invalid">
      <app-error-logger *ngIf="cardForm.get('img')!.errors!['imgLinkInvalid']" [error]="'The image link is invalid'">
      </app-error-logger>
      <app-error-logger *ngIf="cardForm.get('img')!.errors!['required']" [error]="'Please enter the image link'">
      </app-error-logger>
    </ng-container>
  </div>

  <div class="input-grp">
    <label class="block-label" htmlFor="link"> Video Link </label>
    <input nbInput id="link" placeholder="Video Link" type="text" class="input-field" formControlName="link" />
    <ng-container *ngIf="cardForm.get('link')!.touched && cardForm.get('link')!.invalid">
      <app-error-logger *ngIf="cardForm.get('link')!.errors!['required']" [error]="'Please enter a video link'">
      </app-error-logger>
    </ng-container>
  </div>

  <div class="input-grp">
    <label class="block-label" htmlFor="date"> Creation Date </label>
    <input nbInput [nbDatepicker]="videoDate" formControlName="date" id="date" />
    <nb-datepicker #videoDate></nb-datepicker>
    <ng-container *ngIf="cardForm.get('date')!.touched && cardForm.get('date')!.invalid">
      <app-error-logger *ngIf="cardForm.get('date')!.errors!['required']" [error]="'Please enter a date'">
      </app-error-logger>
      <app-error-logger *ngIf="cardForm.get('date')!.errors!['dateInvalid']" [error]="'The date is invalid'">
      </app-error-logger>
    </ng-container>
  </div>

  <button nbButton status="success" size="large" [disabled]="!cardForm.valid" type="submit"> Submit</button>
</form>
